title=Instale Oracle JDK7 no openSUSE
date=2013-02-21
type=post
tags=opensuse,java
status=published
~~~~~~

<p><br />Realize o download a partir deste local: <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html" title="Java SE Development Kit 7 Downloads" target="_blank">Java SE Development Kit 7 Downloads</a>, em um diretório de sua escolha - escolhi: /Softwares_usados/Tools/java/jdk/ . <br /></p><br /><p>Depois como super usuário (root) utilize <a href="http://doc.opensuse.org/documentation/html/openSUSE/opensuse-startup/cha.sw_cl.html" title="Ferramenta de Gerenciamento de Software - Zypper" target="_blank">a Ferramente de Gerencimanto de Software - Zypper -</a> para instalar o pacote (arquivo RPM):<br /><pre lang="bash"><br />gilberto.andrade@A37710:~$ su -<br />Senha:<br />A37710:~ # cd /dados/D/Softwares_usados/Tools/java/jdk/<br />A37710:/dados/D/Softwares_usados/Tools/java/jdk # ll<br />total 439208<br />-rw-r----- 1 gilberto.andrade users   8405307 Feb 11 20:14 javafx-2_2_7-apidocs.zip<br />-rw-r--r-- 1 gilberto.andrade users  54426218 Oct 11 15:12 javafx_scenebuilder-1_1-beta-linux-x64.tar.gz<br />-rw-r--r-- 1 gilberto.andrade users 216263278 Jun 13  2012 javatutorials.zip<br />-rw-r----- 1 gilberto.andrade users  60768483 Feb 11 18:10 jdk-7u15-apidocs.zip<br />-rw-r----- 1 gilberto.andrade users 109860709 Feb 16 04:08 jdk-7u15-linux-x64.rpm<br /><br />A37710:/dados/D/Softwares_usados/Tools/java/jdk # zypper install jdk-7u15-linux-x64.rpm <br /></pre><br /></p><br /><p><br />Vamos "avisar" o mecanismo do sistema que é responsável por estes serviços - <a href="http://blog.gilbertoca.com/?p=875" title="Alterne entre versões Java facilmente [update-alternatives] parte 2" target="_blank">update-alternatives</a>- que existe uma nova versão do jdk instalada. O diretório (melhor dizendo, link) <strong>/usr/java/latest</strong> representa a versão mais recente instalada e irá apontar para última e mais nova versão:<br /><pre lang="bash"><br />A37710:/usr/java # ll<br />total 12<br />lrwxrwxrwx 1 root root   16 Feb 15 16:09 default -> /usr/java/latest<br />drwxr-xr-x 4 root root 4096 Feb 15 15:13 jdk1.7.0_07<br />drwxr-xr-x 3 root root 4096 Feb 21 14:36 jdk1.7.0_13<br />drwxr-xr-x 8 root root 4096 Feb 21 14:36 jdk1.7.0_15<br />lrwxrwxrwx 1 root root   21 Feb 21 14:36 latest -> /usr/java/jdk1.7.0_15<br /></pre><br /></p><br /><p><br />A partir do diretório <strong>latest/bin</strong> e <strong>latest/jre/bin</strong> realize as seguintes modificações:<br /><pre lang="bash"><br />A37710:/usr/java # cd latest/bin/<br />A37710:/usr/java/latest/bin # for bin in *; do update-alternatives --install /usr/bin/$bin $bin $(pwd)/$bin 20000; done<br />A37710:/usr/java/latest/bin # cd ..<br />A37710:/usr/java/latest # cd jre/bin/<br />A37710:/usr/java/latest/jre/bin # for bin in *; do update-alternatives --install /usr/bin/$bin $bin $(pwd)/$bin 20000; done<br />A37710:/usr/java/latest/jre/bin #<br /></pre><br /></p><br /><p><br />Por fim, atualizaremos o <strong>plugin java - javaplugin.so -</strong> para os navegadores instalados no sistema:<br /><pre lang="bash"><br />update-alternatives --install /usr/lib64/browser-plugins/javaplugin.so javaplugin /usr/java/latest/jre/lib/amd64/libnpjp2.so 20000<br /></pre><br />Olhe com atenção pois utilizamos como referência para atualizar o update-alternatives o caminho base <strong>/usr/java/latest</strong>. <br /><strong>Por quê? Você sabe explicar?</strong><br /></p><br />