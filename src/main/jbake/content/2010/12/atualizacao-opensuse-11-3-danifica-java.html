title=Atualização OpenSuSe 11.3 danifica Java
date=2010-12-08
type=post
tags=linux,opensuse,jornada,sistema-operacional,firefox
status=published
~~~~~~

<p><br />Veja como o <a href="http://blog.gilbertoca.com/?p=383">post que menciono o uso do utilitário update-alternatives</a> é importante.<br />Recentemente apliquei um patch - atualização de correção - para o <a href="http://www.opensuse.org/pt-br/">OpenSuSe 11.3</a> e se não houvesse duas <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">máquinas virtuais java - JRE -</a>, certamente não conseguiria acessar qualquer site que dependesse do <a href="http://www.oracle.com/technetwork/java/index.html">Java</a>. <br /></p><br /><p><br />Veja o problema:<br /><pre lang="bash"><br />gilberto@dhcppc0:~> firefox -g<br />Gtk-Message: (for origin information, set GTK_DEBUG): failed to retrieve property `GtkTreeView::odd-row-color' of type `GdkColor' from rc file value "((GString*) 0xb1f11100)" of type `GString'<br />*** nss-shared-helper: Shared database disabled (set NSS_USE_SHARED_DB to enable).<br />ERROR: Invalid browser function table. Some functionality may be restricted.<br />/usr/src/packages/BUILD/icedtea6-1.9.2/plugin/icedteanp/IcedTeaNPPlugin.cc:1506: thread 0x8090738: Error: Failed to spawn applet viewer: Falha ao executar processo filho "/etc/alternatives/../../bin/java" (Arquivo ou diretório não encontrado)<br />*** NSPlugin Wrapper *** ERROR: NP_Initialize() wait for reply: Message timeout<br />ERROR: Invalid browser function table. Some functionality may be restricted.<br />/usr/src/packages/BUILD/icedtea6-1.9.2/plugin/icedteanp/IcedTeaNPPlugin.cc:1506: thread 0x8090738: Error: Failed to spawn applet viewer: Falha ao executar processo filho "/etc/alternatives/../../bin/java" (Arquivo ou diretório não encontrado)<br />gilberto@dhcppc0:~> firefox -g<br />Gtk-Message: (for origin information, set GTK_DEBUG): failed to retrieve property `GtkTreeView::odd-row-color' of type `GdkColor' from rc file value "((GString*) 0xb1f11100)" of type `GString'<br />*** nss-shared-helper: Shared database disabled (set NSS_USE_SHARED_DB to enable).<br />ERROR: Invalid browser function table. Some functionality may be restricted.<br />/usr/src/packages/BUILD/icedtea6-1.9.2/plugin/icedteanp/IcedTeaNPPlugin.cc:1506: thread 0x8090738: Error: Failed to spawn applet viewer: Falha ao executar processo filho "/etc/alternatives/../../bin/java" (Arquivo ou diretório não encontrado)<br />ERROR: Invalid browser function table. Some functionality may be restricted.<br />/usr/src/packages/BUILD/icedtea6-1.9.2/plugin/icedteanp/IcedTeaNPPlugin.cc:1506: thread 0x8090738: Error: Failed to spawn applet viewer: Falha ao executar processo filho "/etc/alternatives/../../bin/java" (Arquivo ou diretório não encontrado)<br /></pre><br /></p><br /><p>Quando constatei o problema, utilizei o <a href="http://transit.iut2.upmf-grenoble.fr/cgi-bin/man/man2html?8+update-alternatives">update-alternatives</a> para alternar a versão da máquina virtual java:<br /><pre lang="bash"> <br />gilberto@dhcppc0:~> su -<br />Senha:<br />dhcppc0:~ # update-alternatives --config javaplugin<br /><br />There are 2 alternatives which provide `javaplugin'.<br /><br />  Selection    Alternative<br />-----------------------------------------------<br /> +        1    /usr/lib/jvm/jre-1.6.0-openjdk/lib/i386/IcedTeaPlugin.so<br />*         2    /usr/lib/jvm/java-1.6.0-sun-1.6.0/jre/lib/i386/libnpjp2.so<br /><br />Press enter to keep the default[*], or type selection number: <br />dhcppc0:~ # <br /></pre><br /></p><br /><p><br />Outra solução, caso você só tenha uma versão instalada, se encontra <a href="http://www.dslreports.com/forum/r24716562-suse-update-broke-java">nesta discussão</a>, pelo comentário do usuário nwrickert.<br /></p><br /><p><br /><strong>ATUALIZAÇÃO:</strong> esqueci-me de mencionar que está estação de trabalho é a de minha casa e que hoje fazem 60 dias que instalei o OpenSuSe 11.3. Por que está nota? Porque os usuários do Windows XP - minha esposa e meu filho(9 anos) - adoraram a mudança!<br /></p>