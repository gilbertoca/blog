title=Debugando com Maven Jetty Plugin no Netbeans
date=2011-05-13
type=post
tags=metodologia-agil,maven,desenvolvimento,netbeans,ide,apache-click,apache-wicket,jsf,debugging,depurar
status=published
~~~~~~

<p><br /><a href="http://www.eclipse.org/jetty/">Jetty </a>é um servidor web excelente. É rápido para iniciar o que o torna muito útil durante o desenvolvimento. A <a href="http://maven.apache.org/what-is-maven.html">ferramente de construção Maven</a> possui um <a href="http://wiki.eclipse.org/Jetty/Feature/Jetty_Maven_Plugin">plugin Jetty</a> que podemos usar em nossos projetos de aplicação Web que utilizam Maven. Desta forma, podemos usar o Jetty para testar nossos arquivos HTML/JSP/JSF/Wicket/Click/etc. Podemos editar o arquivo JSP/HTML e atualizar nosso navegador para ver o resultado imediatamente. Podemos até mesmo compilar um arquivo de classe Java e o servidor Jetty irá reiniciar para que possamos testar o resultado no nosso navegador.<br />Vejamos como configurar o <a href="http://www.eclipse.org/jetty/">Jetty</a>, utilizando como IDE o <a href="http://www.netbeans.org">Netbeans 6.9</a> (deve funcionar para outras versões também!), para executar e principalmente para depurar (Debugging) a aplicação:<br /><strong>requisito: ser uma aplicação web gerenciada pelo Maven.</strong> <br /></p><br /><p><br /><ol><br /><li>Primeiro vamos habilitar a função Compilar ao Salvar (<a href="http://wiki.netbeans.org/FaqCompileOnSave#Using_Compile_on_Save_in_Maven_Projects">Compile On Save</a>) em nosso projeto. Esta função vem habilitada somente para execução de testes em projetos gerenciados pelo Maven, aqui estamos ajustando para execução do fonte também:<br /><a href="/img/uploads/CompileOnSave.png"><img src="/img/uploads/CompileOnSave.png" alt="" title="CompileOnSave" width="804" height="563" class="alignright size-full wp-image-701" /></a><br /> </li><br /><li>Adicione o <a href="http://wiki.eclipse.org/Jetty/Feature/Jetty_Maven_Plugin">plugin jetty</a> para o maven;</li><br /><pre lang="xml"><br />            <plugin><br />                <groupId>org.mortbay.jetty</groupId><br />                <artifactId>jetty-maven-plugin</artifactId><br />                <version>7.0.1.v20091125</version><br />                <configuration><br />                    <!--reload>manual</reload--><br />                    <scanIntervalSeconds>10</scanIntervalSeconds><br />                    <stopKey>foo</stopKey><br />                    <stopPort>9966</stopPort><br />                </configuration><br />            </plugin><br /></pre><br /><li>Abra a janela de propriedades do projeto Maven e selecione Ações(Actions) da lista de categorias (Categories). Encontre a ação Executar (Run) e altere o valor do campo Metas de Execução (Execute Goals) para <bold>jetty:stop jetty:run</bold>;<br /><a href="/img/uploads/ActionRunExecuteGoals.png"><img src="/img/uploads/ActionRunExecuteGoals.png" alt="" title="ActionRunExecuteGoals" width="752" height="580" class="alignright size-full wp-image-687" /></a><br /></li><br /><li>Então, faça o mesmo para ação Depurar Projeto(Debug project)<br />e adicione as seguintes propriedades:<br /><pre lang="vim"><br /><br />jpda.listen=maven<br />netbeans.deploy.debugmode=true<br /><br /></pre><br /><a href="/img/uploads/ActionDebugExecuteGoals.png"><img src="/img/uploads/ActionDebugExecuteGoals.png" alt="" title="ActionDebugExecuteGoals" width="760" height="589" class="alignright size-full wp-image-689" /></a><br /></li><br /></ol><br />O legal é poder depurar a aplicação web.<br />Pronto!! :)<br /></p><br /><p><br />Referências:<br /><ul><br /><li><a href="https://cwiki.apache.org/WICKET/maven-jetty-plugin.html">Using the Maven Jetty plugin - Wicket</a></li><br /><li><a href="http://mrhaki.blogspot.com/2009/02/use-jetty-to-run-maven-web-applications.html">Use Jetty to run Maven web applications in NetBeans</a></li><br /></ul><br /></p>