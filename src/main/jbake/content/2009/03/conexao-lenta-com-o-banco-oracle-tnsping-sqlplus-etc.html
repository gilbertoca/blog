title="Conex√£o Lenta com o Banco Oracle - TNSPING, SQLPLUS, ETC"
date=2009-03-13
type=post
status=published
~~~~~~

<p><br />Se voc&#234; notar que ap&#243;s a configura&#231;&#227;o (Editando o arquivo tnsnames.ora ou usando o utilit&#225;rio netmgr) de um cliente de acesso ao Banco de Dados Oracle estiver muito lenta, verifique a vari&#225;vel NAMES.DIRECTORY_PATH no arquivo sqlnet.ora.<br /></p><br /><p><br />Muitas vezes a ordem de procura dos servi&#231;os dispon&#237;veis na m&#225;quina servidora pode estar prejudicando a conex&#227;o. No meu caso, configurei o servidor com os seguintes protocolos, na ordem correspondente: TNSNAMES, EZCONNECT, ONAMES, HOSTNAME.<br /></p><br /><p><br />Mas no cliente o arquivo sqlnet.ora estava com um protocolo n&#227;o usado:<br /></p><br /><pre><br /># sqlnet.ora Network Configuration File: /opt/oracle/oas/10.1.2.0.2/server/network/admin/sqlnet.ora<br /># Generated by Oracle configuration tools.<br /><br />NAMES.DIRECTORY_PATH= (LDAP, EZCONNECT, TNSNAMES, ONAMES, HOSTNAME)<br /></pre><br /><p><br />Deste modo, o cliente primeiro procura por um servi&#231;o disponibilizado por um servidor LDAP. E isso leva tempo. A remo&#231;&#227;o do primeiro protocolo e reordenando os demais, o tempo de conex&#227;o voltou ao normal.<br /></p><br /><pre><br /># sqlnet.ora Network Configuration File: /opt/oracle/oas/10.1.2.0.2/server/network/admin/sqlnet.ora<br /># Generated by Oracle configuration tools.<br /><br />NAMES.DIRECTORY_PATH= (TNSNAMES, EZCONNECT, ONAMES, HOSTNAME)<br /></pre><br /><p><br />Outro par&#226;metro que pode impactar de forma negativa suas sess&#245;es &#233; o <pre>SQLNET.AUTHENTICATION_SERVICES = (NTS)</pre>. Esse especifica que o Oracle permita a autentica&#231;&#227;o nativa NT para usu&#225;rios windows.<br /></p>